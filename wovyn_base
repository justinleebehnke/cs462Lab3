ruleset wovyn_base {
  meta {
    
  }
  
  global {
    
  }
  
  rule process_heartbeat {
    select when wovyn heartbeat
    pre {
      genericThing = event:attrs{"genericThing"}.klog("genericThing")
    }
    if genericThing then
      send_directive("Wovyn Heartbeat Detected")
    fired {
      raise wovyn event "new_temperature_reading"
      attributes { "temperature":genericThing{"data"}{"temperature"} }
    }
  }
  
  rule process_new_temp {
    select when wovyn new_temperature_reading
    pre {
      genericThing = event:attrs{"temperature"}.klog("temperature content")
    }
  }
}
